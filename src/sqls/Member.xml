<!DOCTYPE mapper
  PUBLIC "-//www.mybatis.org//DTD Mapper 3.0//EN"
  "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Member">
<select id="test" resultType="java.lang.String">
<!-- Enter test Query -->
SELECT id FROM test
</select>

<select id="idCheck" parameterType="java.lang.String" resultType="java.lang.Integer">
SELECT IFNULL(COUNT(*),0)
FROM member
WHERE id=#{id}
</select>

<select id="nickCheck" parameterType="java.lang.String" resultType="java.lang.Integer">
SELECT IFNULL(COUNT(*),0)
FROM member
WHERE nick_name=#{nick_name}
</select>

<insert id="newRegi" parameterType="cd.com.a.model.memberDto">
INSERT INTO member
VALUES(#{id},#{password},0,#{nick_name},#{user_name},#{birthday},#{address},#{phone},${pass_question},#{pass_hint},5000,1)
</insert>

<select id="login" parameterType="cd.com.a.model.memberDto" resultType="cd.com.a.model.memberDto">
SELECT id,user_api,nick_name,user_name,birthday,address,phone,pass_question,point,auth
FROM member
WHERE id=#{id} AND password=#{password}
</select>

<select id="findId" parameterType="cd.com.a.model.memberDto" resultType="java.lang.String">
SELECT id
FROM member
WHERE user_name=#{user_name} AND phone=${phone}
</select>

<select id ="resvMem" parameterType="java.lang.Integer" resultType="cd.com.a.model.memberDto">
	select user_name, phone
	from member
	where mem_seq = #{mem_seq}
</select>
</mapper>
